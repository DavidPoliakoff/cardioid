
SET(CMAKE_CXX_COMPILER mpic++)
SET(CMAKE_C_COMPILER mpicc)


add_definitions(-DPELOTON -DADD_ -DUSE_CSTDIO_LFS -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64)

include_directories(/usr/tce/packages/cuda/cuda-9.1.85/include)

SET(CUDA_TOOLKIT_ROOT_DIR /usr/tce/packages/cuda/cuda-9.1.85)
SET(extra_libs dl 
    ${CUDA_TOOLKIT_ROOT_DIR}/lib64/libcudart.so 
    ${CUDA_TOOLKIT_ROOT_DIR}/lib64/libnvrtc.so
    cuda
    )

SET(LAPACK_LIB /usr/lib64/liblapack.so)
SET(BLAS_LIB /usr/lib64/libblas.so)


SET(CMAKE_BUILD_TYPE Release)

SET(CMAKE_CXX_FLAGS "-std=c++11" CACHE STRING "" FORCE)
SET(CMAKE_C_FLAGS "-std=gnu99" CACHE STRING "" FORCE)


SET(CMAKE_C_FLAGS_DEBUG "-g -ggdb -O0 " CACHE STRING "" FORCE)
SET(CMAKE_C_FLAGS_MINSIZEREL "-g -pg -O3 -DPROFILE" CACHE STRING "" FORCE)
SET(CMAKE_C_FLAGS_RELEASE "-g -O3 -ffp-contract=fast" CACHE STRING "" FORCE) 
SET(CMAKE_C_FLAGS_RELWITHDEBINFO "-ggdb -O2" CACHE STRING "" FORCE)

SET(CMAKE_CXX_FLAGS_DEBUG  ${CMAKE_C_FLAGS_DEBUG} CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS_MINSIZEREL ${CMAKE_C_FLAGS_MINSIZEREL} CACHE STRING "" FORCE)
SET(CMAKE_CXX_FLAGS_RELEASE ${CMAKE_C_FLAGS_RELEASE} CACHE STRING "" FORCE) 
SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO ${CMAKE_C_FLAGS_RELWITHDEBINFO} CACHE STRING "" FORCE)


